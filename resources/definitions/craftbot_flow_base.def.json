{
    "version":      2,
    "name":         "CraftBot FLOW Base Printer",
    "inherits":     "fdmprinter",

    "metadata": {
        "author":                          "mattico",
        "visible":                         false,
        "manufacturer":                    "CraftUnique",
        "file_formats":                    "text/x-gcode",
        "supports_usb_connection":         false,

        "machine_extruder_trains": {
            "0": "craftbot_flow_base_extruder_0",
            "1": "craftbot_flow_base_extruder_1"
        },

        "has_variants": true,
        "preferred_variant_name": "0.4mm Nozzle",
        "preferred_quality_type": "normal",
        "preferred_material": "generic_pla",
        "variants_name": "Nozzle Size"
    },

    "overrides": {
        "machine_extruder_count":          { "default_value": 1, "maximum_value": "2" },
        "machine_heated_bed":              { "default_value": true },
        "machine_center_is_zero":          { "default_value": false },
        "machine_gcode_flavor":            { "default_value": "CraftBot" },
        "machine_start_gcode":             { "default_value": ";---------------------------------------\n;CraftBot FLOW start script\n;---------------------------------------\nG28; Home all axes\nG21; mm\nG90; abs\nG92 E0 ;reset extr\nG1 E20 F600; startup extrude 20mm\nG21; mm\nG90; abs\nG92 E0 ;reset extr\n;---------------------------------------"},
        "machine_end_gcode":               { "default_value": ";---------------------------------------\n;CraftBot FLOW end script\n;---------------------------------------\nG101 Z10; Lower the bed 10mm\nG28 X; Home X\nG1 Y200; Move the Y back away from the camera\nM104 S0; turn off extruder\nM140 S0; turn off bed\nM84; disable motors\n" },
        "machine_shape":                   { "default_value": "rectangular" },

        "machine_nozzle_head_distance":    { "default_value": 2 },
        "machine_heat_zone_length":        { "default_value": 15 },
        "gantry_height":                   { "default_value": 35 },
        "machine_head_with_fans_polygon":  { "default_value": [[-32, 30], [-32, -30], [30, 30], [30, -30]] },

        "machine_max_feedrate_x" :         { "default_value": 200 },
        "machine_max_feedrate_y" :         { "default_value": 200 },
        "machine_max_feedrate_z" :         { "default_value": 60 },
        "machine_max_feedrate_e" :         { "default_value": 120 },

        "machine_max_acceleration_x":      { "default_value": 800 },
        "machine_max_acceleration_y":      { "default_value": 800 },
        "machine_max_acceleration_z":      { "default_value": 400 },
        "machine_max_acceleration_e":      { "default_value": 12000 },

        "__machine_jerk_comment": "CraftWare Pro has Jerk=20 but doesn't specify XYZE",
        "machine_max_jerk_xy":             { "value": "20" },
        "machine_max_jerk_z":              { "value": "1" },
        "machine_max_jerk_e":              { "value": "5" },

        "speed_print" :                    { "default_value": 120 },
        "speed_topbottom":                 { "value": "speed_print * 0.90" },
        "speed_wall_0":                    { "value": "35 if speed_print > 35 else speed_print" },
        "speed_layer_0":                   { "value": "speed_print / 2" }, 

        "speed_travel":                    { "value": "200" },
        "speed_travel_layer_0":            { "value": "speed_travel * 0.70" },
        "speed_z_hop":                     { "value": "machine_max_feedrate_z" },

        "__accel_comment": "CraftBot doesn't support Marlin's M204 for setting acceleration, it uses M1203/M1204.",
        "acceleration_enabled":            { "value": "False" },
        "acceleration_travel" :            { "value": "machine_max_acceleration_x" },
        "acceleration_print":              { "value": "machine_max_acceleration_x" },
        "acceleration_wall":               { "value": "acceleration_print * 0.5" },
        "acceleration_wall_0":             { "value": "acceleration_wall * 0.5" },
        "acceleration_topbottom":          { "value": "acceleration_wall_0" },
        "acceleration_layer_0":            { "value": "acceleration_wall_0" },
        "acceleration_prime_tower":        { "value": "acceleration_wall" },
        "acceleration_support":            { "value": "acceleration_wall" },
        "acceleration_support_interface":  { "value": "acceleration_wall_0" },

        "__jerk_comment": "CraftBot doesn't support Marlin's M205 for setting jerk",
        "jerk_enabled":                    { "value": "False" },
        "jerk_layer_0": 				   { "value": "5" },
        "jerk_prime_tower": 			   { "value": "jerk_print" },
        "jerk_print": 					   { "value": "15" },
        "jerk_support": 				   { "value": "jerk_print" },
        "jerk_support_interface": 		   { "value": "jerk_print" },
        "jerk_topbottom": 				   { "value": "jerk_print" },
        "jerk_wall": 					   { "value": "jerk_print" },
        "jerk_wall_0": 					   { "value": "jerk_print" },
        "jerk_travel":					   { "value": "jerk_print" },
        "jerk_travel_layer_0":			   { "value": "jerk_layer_0" },

        "retraction_amount" :              { "default_value": 1.0 },
        "retraction_speed" :               { "default_value": 60 },

        "__switch_extruder_comment": "Firmware handles retraction, prime, park, wipe when switching extruders",
        "retraction_hop_after_extruder_switch": { "default_value": false },
        "switch_extruder_retraction_amount": { "default_value": 0 },
        "switch_extruder_extra_prime_amount": { "default_value": 0 },

        "material_initial_print_temperature": { "value": "material_print_temperature" },
        "material_final_print_temperature": { "value": "material_print_temperature" }
    }
}
